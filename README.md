# Лабораторная работа №4 - Библиотека

## Описание
Этот проект представляет систему управления библиотекой на Python. В проекте есть базовые классы книг, пользовательская коллекция книг, пользовательские индексы для ускорения поиска, библиотека с методами поиска и симуляция случайных событий.

## Структура проекта
```text
|-- src/
|   |-- __init__.py
|   |-- book.py          # Классы книг
|   |-- collections.py   # Пользовательские коллекции BookCollection и IndexDict
|   |-- exceptions.py    # Исключения 
|   |-- library.py       # Класс Library
|   |-- main.py          # CLI для запуска симуляции
|   |-- simulation.py    # Симуляция случайных событий
|-- tests/
|   |-- __init__.py
|   |-- test_book_collection.py
|   |-- test_index_dict.py
|   |-- test_library.py
|   |-- test_simulation.py
|-- pyproject.toml      
|-- requirements.txt     # Зависимости для pip install
|-- .pre-commit-config.yaml
|-- README.md
```


## Реализованные компоненты

### Книги
- `Book` - базовый класс книги
- `FictionBook` - художественная книга
- `NonFictionBook` - нехудожественная книга

### Пользовательские коллекции

BookCollection
Методы:
- `add_book()` - добавление книги в коллекцию
- `remove_book()` - удаление книги из коллекции
- `__len__()` - количество книг в коллекции
- `__iter__()` - итерация по книгам
- `__getitem__()` - доступ по индексу и срезу
- `__contains__()` - проверка наличия книги в коллекции

IndexDict
Методы:
- `add_book()` - добавление книги в индексы
- `remove_book()` - удаление книги из индексов
- `__len__()` - количество книг в индексе по ISBN
- `__iter__()` - итерация по книгам в индексе ISBN
- `__getitem__()` - доступ к индексам и поиск по ключу
- `__contains__()` - проверка наличия книги или ключа в индексах

### Библиотека

Library
Методы:
- `add_book()` - добавление книги в библиотеку и индекс
- `remove_book()` - удаление книги из библиотеки и индекса
- `find_by_isbn()` - поиск книги по ISBN
- `find_by_author()` - поиск книг по автору
- `find_by_year()` - поиск книг по году
- `find_by_genre()` - поиск книг по жанру

### Симуляция
Функции:
- `run_simulation()` - запуск симуляции на заданное число шагов с сидом
- `generate_random_book()` - генерация случайной книги
- `add_random_book()` - добавление случайной книги в библиотеку
- `remove_random_book()` - удаление случайной книги из библиотеки
- `search_by_author()` - поиск книг по автору
- `search_by_year()` - поиск книг по году
- `search_by_genre()` - поиск книг по жанру
- `update_index()` - перестроение индекса библиотеки
- `get_nonexistent_book()` - поиска книги по несуществующему ISBN

### CLI
- `src.main` - запуск симуляции из командной строки через аргументы `--steps` и `--seed`

## Запуск программы
Запуск симуляции осуществляется при помощи команды в терминале
```bash
python -m src.main
```

Можно задать количество шагов и сид генератора,
```bash
python -m src.main --steps 20 --seed 123
```
где `--step` количество шагов, а `--seed` сид генератора случайных событий
